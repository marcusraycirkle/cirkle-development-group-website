name = "cirkle-api"
main = "worker.js"
compatibility_date = "2024-01-01"

# KV Namespaces for data storage
kv_namespaces = [
  { binding = "USERS", id = "485a0ed1480d4f1b8c7d1766f95bc091" },
  { binding = "SESSIONS", id = "c0668363dc224b2e9ad713c7ceefd8c5" },
  { binding = "BLOGS", id = "b7c64054857c4bf9a7c5f02c3385ed9d" },
  { binding = "BLOG_SUGGESTIONS", id = "99862631014d4ec6ae2ac1896f40b24c" }
]

# Environment variables and secrets
[vars]
ENVIRONMENT = "production"
MYCIRKLE_API_URL = "https://mycirkle-auth.marcusray.workers.dev/api"
FRONTEND_URL = "https://cirkledevelopment.co.uk"

# These should be set via: wrangler secret put <SECRET_NAME>
# DISCORD_CLIENT_ID - Your Discord OAuth Client ID
# DISCORD_CLIENT_SECRET - Your Discord OAuth Client Secret
# DISCORD_REDIRECT_URI - Your Discord OAuth redirect URI
# JWT_SECRET - Secret for signing session tokens
# Note: MYCIRKLE_API_KEY not needed - the API is public

[build]
command = "echo 'No build step required'"
